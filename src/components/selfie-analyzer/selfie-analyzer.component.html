<div class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in-fast">
  <div class="bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg p-6 text-center relative">
    
    <button (click)="onClose()" class="absolute top-4 right-4 text-gray-500 hover:text-white transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
    
    <h2 class="text-2xl font-bold text-white mb-4">{{ languageService.translate('selfie.title') }}</h2>
    
    @if (error()) {
        <div class="bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg">
            <p class="font-bold">{{ languageService.translate('selfie.errorTitle') }}</p>
            <p class="text-sm">{{ error() }}</p>
        </div>
    } @else {
        <div class="relative w-full aspect-square rounded-lg overflow-hidden bg-gray-900 mb-4">
            <video #videoElement playsinline autoplay class="w-full h-full object-cover transform -scale-x-100"></video>
            <canvas #canvasElement class="hidden"></canvas>
        </div>
        <button (click)="capture()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300">
            {{ languageService.translate('selfie.capture') }}
        </button>
        <p class="text-xs text-gray-500 mt-2">{{ languageService.translate('selfie.bestResults') }}</p>
    }
  </div>
</div>

<style>
@keyframes fade-in-fast {
  from { opacity: 0; }
  to { opacity: 1; }
}
.animate-fade-in-fast { animation: fade-in-fast 0.2s ease-out forwards; }
</style>
